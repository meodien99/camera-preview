!function(t){"use strict";function e(t){return new RegExp("(^|\\s+)"+t+"(\\s+|$)")}function n(t,e){var n=a(t,e)?o:r;n(t,e)}var a,r,o;"classList"in document.documentElement?(a=function(t,e){return t.classList.contains(e)},r=function(t,e){t.classList.add(e)},o=function(t,e){t.classList.remove(e)}):(a=function(t,n){return e(n).test(t.className)},r=function(t,e){a(t,e)||(t.className=t.className+" "+e)},o=function(t,n){t.className=t.className.replace(e(n)," ")});var s={hasClass:a,addClass:r,removeClass:o,toggleClass:n,has:a,add:r,remove:o,toggle:n};"function"==typeof define&&define.amd?define(s):"object"==typeof exports?module.exports=s:t.classie=s}(window),function(t){"use strict";function e(t,e){var n=!0;return function(a){n&&(n=!1,setTimeout(function(){n=!0},e),t(a))}}function n(e){var n=0,a=0;if(!e)var e=t.event;return e.pageX||e.pageY?(n=e.pageX,a=e.pageY):(e.clientX||e.clientY)&&(n=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,a=e.clientY+document.body.scrollTop+document.documentElement.scrollTop),{x:n,y:a}}function a(t,e,n,a,r){var o=(t-e)/(n-a),s=e-o*a;return o*r+s}function r(t){S.style.WebkitTransform=S.style.transform=t?"translate3d(0,0,"+J+"px) rotate3d(1,0,0,"+t.rotateX+"deg) rotate3d(0,1,0,"+t.rotateY+"deg) translate3d("+t.translateX+"px, "+t.translateY+"px, "+t.translateZ+"px)":"translate3d(0,0,"+J+"px) rotate3d(1,0,0,"+tt.rotateX+"deg) rotate3d(0,1,0,"+tt.rotateY+"deg) translate3d("+tt.translateX+"px, "+tt.translateY+"px, "+tt.translateZ+"px)"}function o(t){var t=t||K;S.style.WebkitTransition="-webkit-transform "+t.speed+"ms "+t.easing,S.style.transition="transform "+t.speed+"ms "+t.easing}function s(){S.style.WebkitTransition=S.style.transition="none"}function i(){var t=O.width/Q.x;q.style.WebkitTransform=q.style.transform="scale3d("+t+","+t+",1)"}function c(){var a=function(t){d(t.target)};C.forEach(function(t){t.addEventListener("click",a)});var o=function(){R?m():p()};V.addEventListener("click",o);var s=function(t){X(function(){if(!R)return!1;var e=n(t),a=H.rotateX?tt.rotateX-(2*H.rotateX/O.height*e.y-H.rotateX):0,o=H.rotateY?tt.rotateY+(2*H.rotateY/O.width*e.x-H.rotateY):0;r({translateX:tt.translateX,translateY:tt.translateY,translateZ:tt.translateZ,rotateX:a,rotateY:o})})};document.addEventListener("mousemove",s);var c=function(){classie.remove(F,"intro__shown"),classie.add(A,"plan__shown"),classie.add(N,"action__faded"),f(function(){l()})};P.addEventListener("click",c),N.addEventListener("click",v),Z.addEventListener("ended",_),t.addEventListener("resize",e(function(e){O={width:t.innerWidth,height:t.innerHeight},i()},10))}function l(){classie.add(V,"action__shown")}function d(t){if(classie.has(t,"row__seat__reserved"))return!1;if(classie.has(t,"row__seat__selected"))return classie.remove(t,"row__seat__selected"),!1;classie.add(t,"row__seat__selected");var e=W[C.indexOf(t)];u(e)}function u(e){m(),o();var n=t.getComputedStyle(e.parentNode,null),i=n.getPropertyValue("-webkit-transform")||n.getPropertyValue("-moz-transform")||n.getPropertyValue("-ms-transform")||n.getPropertyValue("-o-transform")||n.getPropertyValue("transform")||"Either no transform set or your browser doesnÂ´t do getComputedStyle";if("none"!==i){var c=i.split("(")[1],c=c.split(")")[0],c=c.split(","),l=c[13],d=c[14],u=e.offsetLeft+$/2+e.offsetWidth/2,f=u<Q.x/2?U.translateX+(Q.x/2-u):U.translateX-(u-Q.x/2),p=Q.y/2-(Q.y-Math.abs(l))+e.offsetHeight+10,v=Math.abs(d)+10,_=Q.z-B,y=_-(z-1+I)*G,h=0,g=20,w=0,X=Q.x/2,b=a(h,g,w,X,f),x=0,Y=50,E=a(x,Y,w,X,f),T=a(b,E,y,_,Math.abs(d));tt={translateX:f,translateY:p,translateZ:v,rotateX:0,rotateY:T},r(),L(S,function(){s()})}}function f(t){o({speed:1500,easing:"ease"}),r(U),L(S,function(){s(),t.call()})}function m(){classie.add(V,"action__disabled"),R=!1}function p(){classie.remove(V,"action__disabled"),R=!0}function v(){classie.remove(N,"action__shown"),Z.currentTime=0,Z.play()}function _(){classie.add(N,"action__shown"),Z.load()}function y(){i(),r({translateX:0,translateY:0,translateZ:1300,rotateX:0,rotateY:0}),c()}for(var h,g=0,w="webkit moz ms o".split(" "),X=t.requestAnimationFrame,b=t.cancelAnimationFrame,x=0;x<w.length&&(!X||!b);x++)h=w[x],X=X||t[h+"RequestAnimationFrame"],b=b||t[h+"CancelAnimationFrame"]||t[h+"CancelRequestAnimationFrame"];X&&b||(X=function(e,n){var a=(new Date).getTime(),r=Math.max(0,16-(a-g)),o=t.setTimeout(function(){e(a+r)},r);return g=a+r,o},b=function(e){t.clearTimeout(e)});var Y={transitions:Modernizr.csstransitions},E={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},T=E[Modernizr.prefixed("transition")],L=function(t,e){var n=function(t){if(Y.transitions){if(t.target!=this)return;this.removeEventListener(T,n)}e&&"function"==typeof e&&e.call(this)};Y.transitions?t.addEventListener(T,n):n()},q=document.querySelector(".container"),S=q.querySelector(".cube"),k=[].slice.call(S.querySelectorAll(".rows > .row")),z=k.length,W=[].slice.call(S.querySelectorAll(".row__seat")),A=document.querySelector(".plan"),C=[].slice.call(A.querySelectorAll(".row__seat")),M=S.querySelector(".screen"),Z=M.querySelector("video"),N=M.querySelector("button.action__play"),F=M.querySelector(".intro"),P=F.querySelector("button.action__seats"),V=document.querySelector(".action__lookaround"),H={rotateX:25,rotateY:15},R=!1,O={width:t.innerWidth,height:t.innerHeight},j=W[0].offsetWidth,D=k[0].children.length,$=4*j,B=800,G=100,I=2,J=2e3,K={speed:1e3,easing:"cubic-bezier(.7,0,.3,1)"},Q={x:D*j+$+I*j,y:1e3,z:3e3},U={translateX:0,translateY:Q.y/3.5,translateZ:0,rotateX:-15,rotateY:0},tt=U;y()}(window);
//# sourceMappingURL=uglify.js.map
